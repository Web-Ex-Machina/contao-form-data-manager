services:
  _defaults:
    autoconfigure: true

  wem.data_container.form:
    class: WEM\WEMFormDataManagerBundle\DataContainer\Form
    public: true

  wem.data_container.form_storage:
    class: WEM\WEMFormDataManagerBundle\DataContainer\FormStorage
    arguments:
      $translator: '@contao.translation.translator'
    public: true

  wem.data_container.form_storage_data:
    class: WEM\WEMFormDataManagerBundle\DataContainer\FormStorageData
    arguments:
      $translator: '@contao.translation.translator'
    public: true

  wem.classes.dca.field.callback.load.tl_sm_form_storage_data.value:
    class: WEM\WEMFormDataManagerBundle\Classes\Dca\Field\Callback\LoadConditionnal
    arguments:
      $pdmCallback: '@wem.personal_data_manager.dca.field.callback.load'
      $frontendField: 'value'
      $table: 'tl_form_dtorage_data'
    public: true

  wem.classes.dca.field.callback.save.tl_sm_form_storage_data.value:
    class: WEM\WEMFormDataManagerBundle\Classes\Dca\Field\Callback\SaveConditionnal
    arguments:
      $pdmCallback: '@wem.personal_data_manager.dca.field.callback.save'
      $frontendField: 'value'
      $table: 'tl_form_dtorage_data'
    public: true